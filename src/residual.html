<!DOCTYPE html>
<html>
<title>Residual Analysis</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="page_template/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<style>
body,h1 {font-family: "Raleway", Arial, sans-serif}
h1 {letter-spacing: 6px}
.w3-row-padding img {margin-bottom: 12px}
</style>
<body>

<!-- !PAGE CONTENT! -->
<div class="w3-content" style="max-width:1500px">

<!-- Header -->
<header class="w3-panel w3-center w3-opacity" style="padding:64px 16px">
  <h1 class="w3-xlarge">Regression Analysis</h1>
  <h1>Residual Analysis</h1>
  
  <div class="w3-padding-16">
    <div class="w3-bar w3-border">
      <a href="#intro" class="w3-bar-item w3-button">Introduction</a>
      <a href="#math" class="w3-bar-item w3-button">The Mathematics</a>
      <a href="#code" class="w3-bar-item w3-button">The Code</a>
      <a href="#exercise1" class="w3-bar-item w3-light-grey">Exercise 1</a>
      <a href="#exercise2" class="w3-bar-item w3-light-grey">Exercise 2</a>
    </div>
  </div>
</header>

<!-- Introduction Container -->
<div class="w3-container" id="intro" style="padding:64px 16px">
  <div class="w3-content" style="max-width:800px">
    <div class="w3-opacity">
      <h1 class="w3-center w3-padding-large"><span class="w3-header" style="font-size:36px">Residual Analysis</span></h5>
      <p>The model we built in the drag-and-drop sction is as follow</p>
      <img src="https://raw.githubusercontent.com/danielnyan/bt3103-1d4-statistical-learning/master/img/residual_multiple_linear_model.png" max-width:100% max-height:100% class="w3-image"></img>
      <p>$${MPG = -15.8379 - 0.4715 * cylinders - 0.0229 * horsepower + 0.0190 * displacement - 0.0063 * weight + 1.4229 * origin + 0.7525 * year}$$</p>
      <p>After building a multiple linear regression model, we need to check the residual plot to validate the model. There are mathematical reasons behind it.</p>
      <p>In this section of the tutorial, we will cover the reason why we need to check the residual plot, the code to check, and some multiple-choice questions.</p>
    </div>
    
  </div>
</div>

<!-- Mathematics Container-->
<div class="w3-container" id="math" style="padding:64px 16px">
  <div class="w3-content" style="max-width:800px">
    <div class="w3-opacity  w3-center">
      <h1 class="w3-center w3-padding-large"><span class="w3-header" style="font-size:36px">The Mathematics Involved</span></h5>
      <p>We can simply get the residuals for each data point with this equation. $${RESIDUAL = realvalue - predictedvalue}$$</p>
      <p>For example, if a data point has a predicted value 15.2688 and the real MPG 18, we can get the residuals by</p>
      <p>$${RESIDUAL = 18 - 15.2688 = 2.7312}$$</p>
      <p>Then we can get all rresiduals for each data point and plot it out as below:</p>
      <img src="https://raw.githubusercontent.com/danielnyan/bt3103-1d4-statistical-learning/master/img/residual_plot.png" max-width:100% max-height:100% class="w3-image"></img>
      <div class="w3-opacity">
      <p>Above we have an residual plot for the multiple-regression model we generated from the drag-and-drop section.</p>
      <p>We plot this in order to conduct residual analysis of the model generated.</p>
      <p>From the plot, we can see the residual distribution of the model. The mathematics will be shown below to show how we get these residuals.</p>
      </div>
    </div>
  </div>
</div>

<!-- Code Container-->
<div class="w3-container" id="code" style="padding:64px 16px">
  <div class="w3-content" style="max-width:800px">
    <div class="w3-opacity">
      <h1 class="w3-center w3-padding-large"><span class="w3-header" style="font-size:36px">The Python Code</span></h5>
      <p>First, we have to load in the dataset.</p>
      <pre class="w3-border">
      <code>
        import pandas as pd
        df = pd.read_csv("dataset.csv")
      </code>
      </pre>
      <br>
      <p>After that, we can take a quick peek at our dataset.</p>
      <pre class="w3-border">
        <code>
          df.head(10)
        </code>
      </pre>
      <br>
    </div>
    <img src="https://raw.githubusercontent.com/danielnyan/bt3103-1d4-statistical-learning/master/img/simple_linear_ex_peek.png">
    <div class="w3-opacity">
      <p>To create our regression model, we will use the following code: </p>
      <pre class="w3-border">
        <code>
          import statsmodels.formula.api as smf
          ols = smf.ols(formula='mpg ~ weight', data=df)
          ols_result = ols.fit()
          print(ols_result.summary())
        </code>
      </pre>
    </div>
    <img src="https://raw.githubusercontent.com/danielnyan/bt3103-1d4-statistical-learning/master/img/simple_linear_ex_summary.png">
    <div class="w3-opacity">
      <p>This table may seen daunting, but for now, focus at the middle of it.</p>
    </div>
    <img src="https://raw.githubusercontent.com/danielnyan/bt3103-1d4-statistical-learning/master/img/simple_linear_ex_summary_zoom.png">
    <div class="w3-opacity">
      <p>For now, we are only interested in the coefficients. Remember our mathematical equation? $${MPG = 46.32 + -0.0077*Weight}$$</p>
      <p>The summary provides us with the values for the intercept, and the coefficient of our weight variable.</p>
    </div>
  </div>
</div>


<!-- Exercise1 Container -->
<div class="w3-container w3-opacity" id="exercise1" style="padding:64px 16px">
  <div class="w3-content" style="max-width:800px">
    <h1 class="w3-center w3-padding-large"><span class="w3-header" style="font-size:36px">Exercise 1</span></h5>
    <p>Given the following equation, estimate the value <strong>MPG</strong> will take if the <strong>Weight</strong> provided is <strong>5000</strong>! $${MPG = 46.32 + -0.0077*Weight}$$</p>
    <input size="40"></input>
    <button class="w3-button w3-border">Check Answer</button>
  </div>
</div>

<!-- Exercise2 Container -->
<div class="w3-container w3-opacity" id="exercise2" style="padding:64px 16px">
  <div class="w3-content" style="max-width:800px">
    <h1 class="w3-center w3-padding-large"><span class="w3-header" style="font-size:36px">Exercise 2</span></h5>
    <p>Perform a simple linear regression with MPG as the dependent variable and Acceleration as the indepedent variable!</p>
    <pre class="w3-border">
      <code contenteditable>
        import statsmodels.formula.api as smf
        ols = smf.ols(formula='mpg ~ weight', data=df)
        ols_result = ols.fit()
        print(ols_result.summary())
      </code>
    </pre>
    <button class="w3-button w3-border">Check Answer</button>
  </div>
</div>
  
<!-- End Page Content -->
</div>

<!-- Footer -->
<footer class="w3-container w3-padding-64 w3-light-grey w3-center w3-large"> 
  <p>Tutorial created by Team 1d4 for our BT3103 Module Project</p>
  <p>Powered by <a href="https://www.w3schools.com/w3css/default.asp" target="_blank" class="w3-hover-text-green">w3.css</a></p>
</footer>

</body>
</html>
